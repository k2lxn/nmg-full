<div class='calculator'>

<h1><%= @calculator.name %></h1>

<!-- 1. Get the fields and labels to show in ANY way -->

<% fields = @calculator.input_fields %>

<!-- select tag options, var names match InputField "options" attr values  -->
<% select_options = {"term_options" => ["15yr", "30yr"], 
							"rate_options" => (3.0..5.5).step(0.125),
							"down_options" => (10.0..30.0).step(0.25)} %>

<%= form_tag do %>

	<% fields.each do |field| %>
		<%= label_tag(field.name) %>

		<% if field.tag == "select" %>
			<% if field.options.nil? == false %>
				<%= select_tag field.name, options_for_select(select_options[field.options]) %>
			<%else%>
				<%= select_tag field.name %>			
			<%end%>
			
		<% elsif field.tag == "text" %>	
			<%= text_field_tag(field.name) %>
		<%end%>
		
	<%end%>
	
	<%= submit_tag("Calculate") %>
	
<%end%>


<!-- 2. Get data to submit to #calculate action -->

<h2>Result: <%= @result %></h2>

<!-- 3. Confirm communication with controller by printing @result -->

</div>  <!-- close .calculator -->
<!-- 4. Try to style the page -->




